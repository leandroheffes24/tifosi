<!DOCTYPE html>
<html lang="es">
<head>
    <%- include("partials/head", {title: "Tifosi"}) %>
    <script src="/js/editPersonalInformationValidations.js" defer></script>
</head>
<body>
    <!-- ******************************** HEADER ******************************** -->
    <%- include("partials/header") %>
    <!-- ******************************** END HEADER ******************************** -->

    <main class="editPersonalInformationMain">
        <form class="editProfileForm" id="editPersonalInformationForm" action="/perfil/editar-informacion-personal/<%= locals.userLoggedIn.id %>?_method=put" method="post">
            <div class="editProfileTitleContainer">
                <h2 class="editProfileTitle">Editar información personal</h2>
            </div>

            <div class="editProfileContentContainer">
                <div class="editProfileLabelAndInputContainer">
                    <label class="editProfileLabel" for="name">Nombre</label>
                    <input class="editProfileInput" type="text" id="name" name="name" value="<%= locals.userLoggedIn.name %>" maxlength="35">
                    <span class="frontendRegistroError" id="nameError"></span>
                    <% if (locals.errors && errors.name) { %>
                        <span class="backendRegistroError"><%= errors.name.msg %></span>
                    <% } %>
                </div>

                <div class="editProfileLabelAndInputContainer">
                    <label class="editProfileLabel" for="lastName">Apellido</label>
                    <input class="editProfileInput" type="text" id="lastName" name="lastName" value="<%= locals.userLoggedIn.last_name %>" maxlength="35">
                    <span class="frontendRegistroError" id="lastNameError"></span>
                    <% if (locals.errors && errors.lastName) { %>
                        <span class="backendRegistroError"><%= errors.lastName.msg %></span>
                    <% } %>
                </div>

                <div class="editProfileLabelAndInputContainer">
                    <label class="editProfileLabel" for="email">Email</label>
                    <input class="editProfileInput" type="email" id="email" name="email" value="<%= locals.userLoggedIn.email %>" maxlength="80">
                    <span class="frontendRegistroError" id="emailError"></span>
                    <% if (locals.errors && errors.email) { %>
                        <span class="backendRegistroError"><%= errors.email.msg %></span>
                    <% } %>
                </div>

                <div class="editPasswordButtonContainer">
                    <a href="/perfil/editar-contrasena" class="changePasswordLink">Cambiar contraseña</a>
                </div>

                <div class="editProfileConfirmButtonContainer">
                    <button class="editProfileConfirmButton" type="submit">Editar perfil</button>
                </div>
            </div>
        </form>
    </main>

    <!-- ******************************** FOOTER ******************************** -->
    <%- include("partials/footer") %>
    <!-- ******************************** END FOOTER ******************************** -->
</body>
</html>